/**
 * Titled Pane / Accordion
 * Mac OS X Aqua-style expandable panels
 * Matches JavaFX TitledPane and Accordion
 */

@use "mixins" as *;

/* ============================================
   TITLED PANE CONTAINER
   ============================================ */
.titled-pane,
.aqua-titled-pane {
  border: 1px solid var(--titled-pane-border);
  border-width: 1px 0;
  font-family: var(--font-system);
  font-size: var(--font-size-base);

  & + .titled-pane {
    border-top: none;
  }
}

/* ============================================
   TITLED PANE HEADER
   ============================================ */
.titled-pane-header,
.aqua-titled-pane-header {
  padding: 4px 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  background: var(--titled-pane-header-gradient);
  user-select: none;
  position: relative;

  /* Aqua glass effect */
  @include aqua-glass('bar');

  &:hover {
    background: var(--titled-pane-header-hover-gradient);
  }
}

/* ============================================
   DISCLOSURE ARROW
   ============================================ */
.titled-pane-arrow,
.aqua-titled-pane-arrow {
  width: 0;
  height: 0;
  border-left: 5px solid var(--titled-pane-arrow);
  border-top: 4px solid transparent;
  border-bottom: 4px solid transparent;
  transition: transform 0.15s ease;
  flex-shrink: 0;
}

.titled-pane.expanded .titled-pane-arrow,
.aqua-titled-pane.expanded .aqua-titled-pane-arrow {
  transform: rotate(90deg);
}

/* ============================================
   TITLED PANE CONTENT
   ============================================ */
.titled-pane-content,
.aqua-titled-pane-content {
  padding: 12px;
  display: none;
  background: var(--titled-pane-content-bg);
  border-top: 1px solid var(--titled-pane-content-border);
}

.titled-pane.expanded .titled-pane-content,
.aqua-titled-pane.expanded .aqua-titled-pane-content {
  display: block;
}

/* ============================================
   ACCORDION (Multiple titled panes)
   ============================================ */
.accordion {
  border: 1px solid var(--accordion-border);
  border-radius: var(--radius-medium);
  overflow: hidden;

  .titled-pane {
    border: none;
    border-bottom: 1px solid var(--accordion-divider);

    &:last-child {
      border-bottom: none;
    }
  }

  .titled-pane-content {
    border-top: none;
  }
}

/* ============================================
   DISABLED STATE
   ============================================ */
.titled-pane.disabled {
  opacity: 0.5;
  pointer-events: none;

  .titled-pane-header {
    cursor: default;
  }
}

.aqua-titled-pane.disabled {
  opacity: 0.5;
  pointer-events: none;

  .aqua-titled-pane-header {
    cursor: default;
  }
}
