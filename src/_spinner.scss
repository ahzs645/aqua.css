/**
 * Spinner / Loader
 * Animated loading indicator
 */

.spinner,
.loader {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 2px solid #CCCCCC;
  border-top-color: var(--aqua-blue);
  border-radius: 50%;

  &.animate,
  &.spinning {
    animation: spinner-rotate 0.8s linear infinite;
  }
}

/* Large spinner */
.spinner-large,
.loader-large {
  width: 32px;
  height: 32px;
  border-width: 3px;
}

/* Small spinner */
.spinner-small,
.loader-small {
  width: 14px;
  height: 14px;
  border-width: 2px;
}

@keyframes spinner-rotate {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Aqua-style "beach ball" spinner */
.spinner-aqua {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: conic-gradient(
    #FF0000 0deg 60deg,
    #FFFF00 60deg 120deg,
    #00FF00 120deg 180deg,
    #00FFFF 180deg 240deg,
    #0000FF 240deg 300deg,
    #FF00FF 300deg 360deg
  );

  &.animate,
  &.spinning {
    animation: spinner-rotate 1s linear infinite;
  }
}

/* Pinwheel Spinner */
.spinner-container {
  --blade-opacity: 0.25;
  position: relative;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  display: inline-block;
  vertical-align: middle;

  /* Top shine overlay */
  &::before {
    content: '';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 70%;
    height: 40%;
    top: 5%;
    background: linear-gradient(
      rgba(255, 255, 255, 0.7),
      rgba(255, 255, 255, 0.1)
    );
    border-radius: 50% 50% 40% 40%;
    filter: blur(1px);
    z-index: 20;
    pointer-events: none;
  }

  /* Bottom glow overlay */
  &::after {
    content: '';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 30%;
    bottom: 8%;
    background: linear-gradient(
      rgba(255, 255, 255, 0.05),
      rgba(255, 255, 255, 0.25)
    );
    border-radius: 50%;
    filter: blur(1px);
    z-index: 20;
    pointer-events: none;
  }
}

/* Rainbow background layer */
.static-rainbow-bg {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
}

.bg-smooth-rainbow {
  background: conic-gradient(from 0deg,
    #7b68ee,
    #4169e1,
    #00bfff,
    #00fa9a,
    #32cd32,
    #9acd32,
    #ffd700,
    #ff8c00,
    #ff4500,
    #ff1493,
    #7b68ee);
}

/* Spinning pinwheel layer */
.spinning-pinwheel {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  animation: spinner-rotate 1.2s linear infinite;
  z-index: 10;

  .blade {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    clip-path: url(#spinnerBlade);
    transform-origin: 50% 50%;
    background: rgba(0, 0, 0, var(--blade-opacity, 0.25));

    &:nth-child(1) { transform: rotate(0deg); }
    &:nth-child(2) { transform: rotate(72deg); }
    &:nth-child(3) { transform: rotate(144deg); }
    &:nth-child(4) { transform: rotate(216deg); }
    &:nth-child(5) { transform: rotate(288deg); }
  }
}

/* Static mode - no animation */
.spinner-container.static-mode .spinning-pinwheel {
  animation: none;
}
