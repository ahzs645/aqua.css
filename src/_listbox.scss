/**
 * Listbox
 * Multi-select list using select[multiple] or role="listbox"
 */

[role="listbox"],
select[multiple] {
  background: var(--listbox-bg);
  border: 1px solid var(--listbox-border);
  display: block;
  font-family: var(--font-ui);
  font-size: var(--font-size-base);
  overflow-y: auto;
  padding: 2px;
  min-height: 80px;

  /* Remove gloss inherited from select */
  &::before,
  &::after {
    display: none;
  }

  &:focus {
    border-color: var(--aqua-blue);
    box-shadow: var(--listbox-focus-shadow);
    outline: none;
  }

  [role="option"],
  option {
    padding: 4px 8px;
    cursor: default;
    border-radius: var(--radius-small);

    &[aria-selected="true"],
    &:checked,
    &:focus {
      background: var(--listbox-option-selected-bg);
      color: var(--listbox-option-selected-text);
    }

    &:hover:not([aria-selected="true"]):not(:checked) {
      background: var(--listbox-option-hover-bg);
    }
  }
}

/* ============================================
   AQUA LISTBOX (Mac OS 10.1 Style)
   Classic listbox with striped rows and wave scrollbar
   ============================================ */

.aqua-listbox {
  position: relative;
  background: #fff;
  overflow: hidden;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.15);
}

.aqua-listbox-content {
  width: 100%;
  height: 100%;
  overflow-y: scroll;
  padding-right: 18px; /* Space for custom scrollbar */
  scrollbar-width: none; /* Firefox */
}

.aqua-listbox-content::-webkit-scrollbar {
  display: none;
}

.aqua-listbox-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

.aqua-listbox-item {
  padding: 2px 8px;
  margin: 0;
  cursor: default;
  font-family: var(--font-ui);
  font-size: var(--font-size-base);
  line-height: 1.3;
  background: #fff;
  user-select: none;
  border-radius: 0;
}

.aqua-listbox-item:hover:not(.selected) {
  background: rgba(0, 0, 0, 0.04);
}

.aqua-listbox-item.selected {
  background: #808080;
  color: #fff;
}

/* ===== Aqua Listbox Scrollbar (uses unified scrollbar component) ===== */

/* The scrollbar component inside listbox - positioned absolutely */
.aqua-listbox .scrollbar.vertical {
  --w: 18px;
  --btn-height: 15px;
  --radius: 9px;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: var(--w);
  height: auto;
  flex-direction: column;
}
