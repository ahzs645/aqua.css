    <h2 id="window">Window</h2>
    <p>
      The classic Aqua window with brushed metal title bar and traffic light buttons
      (close, minimize, maximize/zoom).
    </p>

    <%- bareExample(`
      <div class="window">
        <div class="title-bar">
          <div class="traffic-lights traffic-lights--always-colored">
            <div class="aqua-light aqua-red" role="button" tabindex="0" aria-label="Close"><span class="icon">×</span></div>
            <div class="aqua-light aqua-yellow" role="button" tabindex="0" aria-label="Minimize"><span class="icon">−</span></div>
            <div class="aqua-light aqua-green" role="button" tabindex="0" aria-label="Maximize"><span class="icon">+</span></div>
          </div>
          <div class="title-bar-text">My Window</div>
        </div>
        <div class="window-body">
          <p>This is a window with Aqua styling.</p>
        </div>
      </div>
    `) %>

    <h3>Inactive Window</h3>
    <p>Windows that are not in focus have grayed-out traffic lights.</p>

    <%- bareExample(`
      <div class="window inactive">
        <div class="title-bar">
          <div class="traffic-lights">
            <div class="aqua-light aqua-red" role="button" tabindex="0" aria-label="Close"><span class="icon">×</span></div>
            <div class="aqua-light aqua-yellow" role="button" tabindex="0" aria-label="Minimize"><span class="icon">−</span></div>
            <div class="aqua-light aqua-green" role="button" tabindex="0" aria-label="Maximize"><span class="icon">+</span></div>
          </div>
          <div class="title-bar-text">Inactive Window</div>
        </div>
        <div class="window-body">
          <p>This window is not focused.</p>
        </div>
      </div>
    `) %>

    <h3 id="brushed-metal">Brushed Metal</h3>
    <p>
      Authentic brushed metal texture from Mac OS X 10.3-10.5 era (2003-2007).
      Used in iTunes, QuickTime Player, Finder, and Safari.
    </p>
    <p>
      <strong>Note:</strong> The authentic brushed metal effect requires canvas-based
      rendering with p5.js to accurately recreate the horizontal grain striations and
      Perlin noise texture. CSS gradients can only approximate the effect.
    </p>

    <%- bareExample(`
      <div class="window" style="width: 100%; max-width: 520px; position: relative; overflow: hidden;">
        <!-- Metal canvas renders behind everything -->
        <div id="metal-container" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;"></div>

        <!-- Title bar overlays the metal (transparent background) -->
        <div class="title-bar" style="background: transparent; position: relative; z-index: 1; border-bottom: none;">
          <div class="traffic-lights traffic-lights--always-colored">
            <div class="aqua-light aqua-red" role="button" tabindex="0" aria-label="Close"><span class="icon">×</span></div>
            <div class="aqua-light aqua-yellow" role="button" tabindex="0" aria-label="Minimize"><span class="icon">−</span></div>
            <div class="aqua-light aqua-green" role="button" tabindex="0" aria-label="Maximize"><span class="icon">+</span></div>
          </div>
          <!-- Title centered across full width, overlapping traffic lights layer -->
          <div class="title-bar-text" style="position: absolute; left: 0; right: 0; text-align: center; pointer-events: none;">Window</div>
        </div>

        <!-- Window body is also transparent -->
        <div class="window-body" style="background: transparent; position: relative; z-index: 1; min-height: 280px;">
        </div>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"><\/script>
      <script>
        function setup() {
          let container = document.getElementById('metal-container');
          let c = createCanvas(container.offsetWidth, container.offsetHeight);
          c.parent('metal-container');
          pixelDensity(1);
          noLoop();
          drawMetal();
        }

        function drawMetal() {
          loadPixels();

          let centerX = width / 2;
          let baseGray = 163;
          let lightBrightness = 41;
          let noiseStrength = 20;
          let lightConcentration = 1.8;

          for (let y = 0; y < height; y++) {
            let rowOffset = random(0, 10000);

            for (let x = 0; x < width; x++) {
              let index = (x + y * width) * 4;

              // Horizontal grain texture using Perlin noise
              let n = noise(x * 0.02 + rowOffset);
              let grain = map(n, 0, 1, -noiseStrength, noiseStrength);

              // Center specular highlight (Gaussian falloff)
              let normDist = (x - centerX) / (width / 2);
              let light = Math.exp(-Math.pow(normDist * lightConcentration, 2)) * lightBrightness;

              let finalColor = constrain(baseGray + light + grain, 0, 255);

              pixels[index + 0] = finalColor;
              pixels[index + 1] = finalColor;
              pixels[index + 2] = finalColor;
              pixels[index + 3] = 255;
            }
          }
          updatePixels();
        }
      <\/script>
    `) %>

    <h4>CSS + SVG Filter Implementation</h4>
    <p>
      Alternative approach using SVG filters for the brushed texture. This method uses
      <code>feTurbulence</code> for procedural noise and doesn't require JavaScript.
    </p>

    <%- bareExample(`
      <div class="metal-window" style="width: 100%; max-width: 520px; position: relative; overflow: hidden; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
        <!-- Brushed metal background -->
        <svg viewBox="0 0 520 320" preserveAspectRatio="none" aria-hidden="true" style="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0;">
          <defs>
            <!-- Gaussian-like center highlight: intensity=79, width=8.80, edgeBlur=17.01, baseGray=157 -->
            <linearGradient id="metalSheen" x1="0" y1="0" x2="1" y2="0">
              <stop offset="0.0%" stop-color="rgb(158,158,158)"/>
              <stop offset="5.9%" stop-color="rgb(159,159,159)"/>
              <stop offset="11.8%" stop-color="rgb(163,163,163)"/>
              <stop offset="17.6%" stop-color="rgb(169,169,169)"/>
              <stop offset="23.5%" stop-color="rgb(179,179,179)"/>
              <stop offset="29.4%" stop-color="rgb(194,194,194)"/>
              <stop offset="35.3%" stop-color="rgb(210,210,210)"/>
              <stop offset="41.2%" stop-color="rgb(226,226,226)"/>
              <stop offset="47.1%" stop-color="rgb(235,235,235)"/>
              <stop offset="52.9%" stop-color="rgb(235,235,235)"/>
              <stop offset="58.8%" stop-color="rgb(226,226,226)"/>
              <stop offset="64.7%" stop-color="rgb(210,210,210)"/>
              <stop offset="70.6%" stop-color="rgb(194,194,194)"/>
              <stop offset="76.5%" stop-color="rgb(179,179,179)"/>
              <stop offset="82.4%" stop-color="rgb(169,169,169)"/>
              <stop offset="88.2%" stop-color="rgb(163,163,163)"/>
              <stop offset="94.1%" stop-color="rgb(159,159,159)"/>
              <stop offset="100.0%" stop-color="rgb(158,158,158)"/>
            </linearGradient>

            <filter id="metalTexture" x="-20%" y="-20%" width="140%" height="140%" color-interpolation-filters="sRGB">
              <!-- Displacement source - creates row-varying offsets -->
              <feTurbulence type="fractalNoise" baseFrequency="0.001 0.6" numOctaves="2" seed="5" result="displace"/>

              <!-- Main horizontal texture -->
              <feTurbulence type="fractalNoise" baseFrequency="0.015 1.4" numOctaves="2" seed="17" result="texture"/>

              <!-- Warp texture based on displacement - mimics per-row offset -->
              <feDisplacementMap in="texture" in2="displace" scale="50" xChannelSelector="R" yChannelSelector="G" result="warped"/>

              <!-- Strong horizontal blur for brush strokes -->
              <feGaussianBlur in="warped" stdDeviation="12 0" result="streak"/>

              <!-- Ensure grayscale -->
              <feColorMatrix in="streak" type="saturate" values="0" result="gray"/>

              <!-- Adjust contrast to match JS noiseStrength ~20 -->
              <feComponentTransfer in="gray" result="adjusted">
                <feFuncR type="linear" slope="0.8" intercept="0.1"/>
                <feFuncG type="linear" slope="0.8" intercept="0.1"/>
                <feFuncB type="linear" slope="0.8" intercept="0.1"/>
              </feComponentTransfer>

              <!-- Blend with source -->
              <feBlend in="SourceGraphic" in2="adjusted" mode="soft-light"/>
            </filter>
          </defs>
          <rect width="520" height="320" fill="url(#metalSheen)" filter="url(#metalTexture)"/>
        </svg>

        <!-- Title bar -->
        <div style="background: transparent; position: relative; z-index: 1; padding: 8px 12px; display: flex; align-items: center;">
          <!-- Traffic lights -->
          <div style="display: flex; gap: 8px;">
            <div style="width: 12px; height: 12px; border-radius: 50%; background: linear-gradient(135deg, #ff6058 0%, #c14443 100%); box-shadow: inset 0 1px 0 rgba(255,255,255,0.4), 0 1px 2px rgba(0,0,0,0.2);"></div>
            <div style="width: 12px; height: 12px; border-radius: 50%; background: linear-gradient(135deg, #ffbd2e 0%, #c59a1a 100%); box-shadow: inset 0 1px 0 rgba(255,255,255,0.4), 0 1px 2px rgba(0,0,0,0.2);"></div>
            <div style="width: 12px; height: 12px; border-radius: 50%; background: linear-gradient(135deg, #28c840 0%, #1a9a2c 100%); box-shadow: inset 0 1px 0 rgba(255,255,255,0.4), 0 1px 2px rgba(0,0,0,0.2);"></div>
          </div>

          <!-- Window title -->
          <div style="position: absolute; left: 0; right: 0; text-align: center; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; font-weight: 500; color: rgba(0,0,0,0.8); pointer-events: none;">Window</div>
        </div>

        <!-- Window body -->
        <div style="background: transparent; position: relative; z-index: 1; min-height: 280px;"></div>
      </div>
    `) %>

