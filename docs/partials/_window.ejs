    <h2 id="window">Window</h2>
    <p>
      The classic Aqua window with brushed metal title bar and traffic light buttons
      (close, minimize, maximize/zoom).
    </p>

    <%- example(`
      <div class="window">
        <div class="title-bar">
          <div class="traffic-lights traffic-lights--always-colored">
            <div class="aqua-light aqua-red" role="button" tabindex="0" aria-label="Close"><span class="icon">×</span></div>
            <div class="aqua-light aqua-yellow" role="button" tabindex="0" aria-label="Minimize"><span class="icon">−</span></div>
            <div class="aqua-light aqua-green" role="button" tabindex="0" aria-label="Maximize"><span class="icon">+</span></div>
          </div>
          <div class="title-bar-text">My Window</div>
        </div>
        <div class="window-body">
          <p>This is a window with Aqua styling.</p>
        </div>
      </div>
    `) %>

    <h3>Inactive Window</h3>
    <p>Windows that are not in focus have grayed-out traffic lights.</p>

    <%- example(`
      <div class="window inactive">
        <div class="title-bar">
          <div class="traffic-lights">
            <div class="aqua-light aqua-red" role="button" tabindex="0" aria-label="Close"><span class="icon">×</span></div>
            <div class="aqua-light aqua-yellow" role="button" tabindex="0" aria-label="Minimize"><span class="icon">−</span></div>
            <div class="aqua-light aqua-green" role="button" tabindex="0" aria-label="Maximize"><span class="icon">+</span></div>
          </div>
          <div class="title-bar-text">Inactive Window</div>
        </div>
        <div class="window-body">
          <p>This window is not focused.</p>
        </div>
      </div>
    `) %>

    <h3 id="brushed-metal">Brushed Metal</h3>
    <p>
      Authentic brushed metal texture from Mac OS X 10.3-10.5 era (2003-2007).
      Used in iTunes, QuickTime Player, Finder, and Safari.
    </p>
    <p>
      <strong>Note:</strong> The authentic brushed metal effect requires canvas-based
      rendering with p5.js to accurately recreate the horizontal grain striations and
      Perlin noise texture. CSS gradients can only approximate the effect.
    </p>

    <%- example(`
      <div class="window" style="width: 100%; max-width: 520px; position: relative; overflow: hidden;">
        <!-- Metal canvas renders behind everything -->
        <div id="metal-container" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;"></div>

        <!-- Title bar overlays the metal (transparent background) -->
        <div class="title-bar" style="background: transparent; position: relative; z-index: 1; border-bottom: none;">
          <div class="traffic-lights traffic-lights--always-colored">
            <div class="aqua-light aqua-red" role="button" tabindex="0" aria-label="Close"><span class="icon">×</span></div>
            <div class="aqua-light aqua-yellow" role="button" tabindex="0" aria-label="Minimize"><span class="icon">−</span></div>
            <div class="aqua-light aqua-green" role="button" tabindex="0" aria-label="Maximize"><span class="icon">+</span></div>
          </div>
          <!-- Title centered across full width, overlapping traffic lights layer -->
          <div class="title-bar-text" style="position: absolute; left: 0; right: 0; text-align: center; pointer-events: none;">Window</div>
        </div>

        <!-- Window body is also transparent -->
        <div class="window-body" style="background: transparent; position: relative; z-index: 1; min-height: 280px;">
        </div>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"><\/script>
      <script>
        function setup() {
          let container = document.getElementById('metal-container');
          let c = createCanvas(container.offsetWidth, container.offsetHeight);
          c.parent('metal-container');
          pixelDensity(1);
          noLoop();
          drawMetal();
        }

        function drawMetal() {
          loadPixels();

          let centerX = width / 2;
          let baseGray = 163;
          let lightBrightness = 41;
          let noiseStrength = 20;
          let lightConcentration = 1.8;

          for (let y = 0; y < height; y++) {
            let rowOffset = random(0, 10000);

            for (let x = 0; x < width; x++) {
              let index = (x + y * width) * 4;

              // Horizontal grain texture using Perlin noise
              let n = noise(x * 0.02 + rowOffset);
              let grain = map(n, 0, 1, -noiseStrength, noiseStrength);

              // Center specular highlight (Gaussian falloff)
              let normDist = (x - centerX) / (width / 2);
              let light = Math.exp(-Math.pow(normDist * lightConcentration, 2)) * lightBrightness;

              let finalColor = constrain(baseGray + light + grain, 0, 255);

              pixels[index + 0] = finalColor;
              pixels[index + 1] = finalColor;
              pixels[index + 2] = finalColor;
              pixels[index + 3] = 255;
            }
          }
          updatePixels();
        }
      <\/script>
    `) %>

    <h4>CSS + SVG Filter Implementation</h4>
    <p>
      Alternative approach using SVG filters for the brushed texture. This method uses
      <code>feTurbulence</code> for procedural noise and doesn't require JavaScript.
    </p>

    <%- example(`
      <div class="metal-window" style="width: 100%; max-width: 520px; position: relative; overflow: hidden; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
        <!-- Base metal layer with SVG texture filter -->
        <div class="metal-layer" style="position: absolute; inset: 0; z-index: 0; background-color: rgb(183, 183, 183); filter: url(#brushed-metal-filter); transform: scale(1.02);"></div>

        <!-- Gaussian highlight layer -->
        <div class="highlight-layer" style="position: absolute; inset: -100px; z-index: 1; pointer-events: none; filter: blur(75px); background-image: linear-gradient(90deg,
          rgba(255,255,255,0.0000) 0.0%,
          rgba(255,255,255,0.0000) 10.0%,
          rgba(255,255,255,0.0001) 20.0%,
          rgba(255,255,255,0.0029) 26.7%,
          rgba(255,255,255,0.0405) 33.3%,
          rgba(255,255,255,0.1124) 36.7%,
          rgba(255,255,255,0.2428) 40.0%,
          rgba(255,255,255,0.4208) 43.3%,
          rgba(255,255,255,0.5912) 46.7%,
          rgba(255,255,255,0.6600) 50.0%,
          rgba(255,255,255,0.5912) 53.3%,
          rgba(255,255,255,0.4208) 56.7%,
          rgba(255,255,255,0.2428) 60.0%,
          rgba(255,255,255,0.1124) 63.3%,
          rgba(255,255,255,0.0405) 66.7%,
          rgba(255,255,255,0.0029) 73.3%,
          rgba(255,255,255,0.0001) 80.0%,
          rgba(255,255,255,0.0000) 90.0%,
          rgba(255,255,255,0.0000) 100.0%
        );"></div>

        <!-- Title bar -->
        <div class="title-bar" style="background: transparent; position: relative; z-index: 2; border-bottom: none;">
          <div class="traffic-lights traffic-lights--always-colored">
            <div class="aqua-light aqua-red" role="button" tabindex="0" aria-label="Close"><span class="icon">×</span></div>
            <div class="aqua-light aqua-yellow" role="button" tabindex="0" aria-label="Minimize"><span class="icon">−</span></div>
            <div class="aqua-light aqua-green" role="button" tabindex="0" aria-label="Maximize"><span class="icon">+</span></div>
          </div>
          <div class="title-bar-text" style="position: absolute; left: 0; right: 0; text-align: center; pointer-events: none;">Window</div>
        </div>

        <!-- Window body -->
        <div class="window-body" style="background: transparent; position: relative; z-index: 2; min-height: 280px;"></div>
      </div>

      <!-- SVG filter for brushed metal texture -->
      <svg style="position:absolute; width:0; height:0;">
        <filter id="brushed-metal-filter" x="-20%" y="-20%" width="140%" height="140%" color-interpolation-filters="sRGB">
          <!-- Coarse brushed streaks -->
          <feTurbulence type="fractalNoise" baseFrequency="0.006 0.55" numOctaves="1" seed="11" result="noiseCoarse"/>
          <feGaussianBlur in="noiseCoarse" stdDeviation="14 0" result="streaks"/>
          <feColorMatrix in="streaks" type="saturate" values="0" result="streaksGray"/>

          <!-- Fine grain texture -->
          <feTurbulence type="fractalNoise" baseFrequency="0.035 0.95" numOctaves="2" seed="3" result="noiseFine"/>
          <feGaussianBlur in="noiseFine" stdDeviation="2 0" result="grain"/>
          <feColorMatrix in="grain" type="saturate" values="0" result="grainGray"/>

          <!-- Mix coarse + fine -->
          <feComposite in="streaksGray" in2="grainGray" operator="arithmetic" k1="0" k2="0.82" k3="0.18" k4="0" result="texture"/>

          <!-- Contrast boost -->
          <feComponentTransfer in="texture" result="textureBoost">
            <feFuncR type="linear" slope="1.55" intercept="-0.275"/>
            <feFuncG type="linear" slope="1.55" intercept="-0.275"/>
            <feFuncB type="linear" slope="1.55" intercept="-0.275"/>
          </feComponentTransfer>

          <!-- Apply texture to source -->
          <feComposite in="SourceGraphic" in2="textureBoost" operator="arithmetic" k1="0" k2="1" k3="0.30" k4="-0.15" result="final"/>
        </filter>
      </svg>
    `) %>

