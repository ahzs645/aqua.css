// ============================================
// AquaFX Checkbox Component
// Matches JavaFX AquaFX checkbox exactly
// ============================================

@use '../base/variables' as *;
@use '../base/mixins' as *;

.aqua-checkbox {
  @include checkbox-radio-container;

  input {
    @include hide-native-input;
  }

  // The checkbox box - matches JavaFX .check-box > .box
  // JavaFX uses padding: 0.461538em (~6px) to create internal space
  .box {
    width: 14px;
    height: 14px;
    border: 0.5px solid rgb(129, 129, 129);
    border-radius: 2.5px;
    background:
      rgb(250, 250, 250),
      linear-gradient(
        rgb(255, 255, 255) 0%,
        rgb(252, 252, 252) 25%,
        rgb(244, 244, 244) 50%,
        rgb(238, 238, 238) 51%,
        rgb(243, 243, 243) 100%
      );
    background-clip: padding-box;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    box-shadow: 0 0.5px 1px rgba(0, 0, 0, 0.1);
  }

  // Checkmark - hidden by default, shown when checked
  // JavaFX shape: filled SVG path with dropshadow effect
  .box .mark {
    display: none;
    width: 10px;
    height: 10px;
    // SVG checkmark as a filled shape matching JavaFX path
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10'%3E%3Cpath d='M1 5 L3.5 8 L9 2' stroke='%23000' stroke-width='2.2' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    // JavaFX: dropshadow(one-pass-box, rgb(255,255,255,0.8), 0, 0, -1, 1)
    filter: drop-shadow(-1px 1px 0 rgba(255, 255, 255, 0.8));
  }

  // Armed/pressed state - matches JavaFX .check-box:armed > .box
  &:active .box {
    background:
      rgb(250, 250, 250),
      linear-gradient(
        rgb(224, 224, 224) 0%,
        rgb(214, 214, 214) 50%,
        rgb(207, 207, 207) 51%,
        rgb(208, 208, 208) 100%
      );
  }

  // Checked state - matches JavaFX .check-box:selected > .box
  input:checked + .box {
    border-color: rgb(100, 103, 124);
    background: linear-gradient(
      rgb(228, 250, 255) 0%,
      #91bdee 50%,
      #78b0ee 51%,
      rgb(228, 250, 255) 100%
    );

    .mark {
      display: block;
    }
  }

  // Focus state - matches JavaFX .check-box:focused > .box
  input:focus + .box {
    border-color: rgb(104, 155, 201);
    box-shadow: 0 0 0 2px rgba(104, 155, 201, 0.4);
  }

  // Disabled state
  &.disabled {
    @include disabled-state;
  }

  // Indeterminate state - horizontal line
  // JavaFX shape: "M0,0H8V2H0Z" (8x2 rectangle)
  input:indeterminate + .box {
    border-color: rgb(100, 103, 124);
    background: linear-gradient(
      rgb(228, 250, 255) 0%,
      #91bdee 50%,
      #78b0ee 51%,
      rgb(228, 250, 255) 100%
    );

    .mark {
      display: block;
      width: 8px;
      height: 2px;
      background-image: none;
      background-color: $aqua-text;
      border-radius: 0;
      // JavaFX: dropshadow(one-pass-box, rgb(255,255,255,0.8), 1, 0, 0, 1.5)
      filter: drop-shadow(0 1.5px 0 rgba(255, 255, 255, 0.8));
    }
  }
}
